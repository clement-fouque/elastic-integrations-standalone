# Docker Integration Configuration Example
#
# This configuration monitors Docker containers and collects metrics.
# To use this in Fleet:
#   1. Go to Kibana → Fleet → Integrations
#   2. Search for "Docker"
#   3. Click "Add Docker"
#   4. Use the settings below as reference

# Docker Metrics Configuration
docker_metrics:
  enabled: true
  period: 10s
  
  # Docker daemon socket
  hosts:
    - "unix:///var/run/docker.sock"
    
  # Container metrics
  container:
    enabled: true
    # Collect metrics for all containers
    container_ids: ['*']
    
  # CPU metrics per container
  cpu:
    enabled: true
    
  # Memory metrics per container
  memory:
    enabled: true
    
  # Network metrics per container
  network:
    enabled: true
    
  # Disk I/O metrics per container
  diskio:
    enabled: true
    
  # Health check metrics
  healthcheck:
    enabled: true
    
  # Docker events
  event:
    enabled: true

# Container Logs Configuration
docker_logs:
  enabled: true
  
  # Collect logs from all containers
  container_ids: ['*']
  
  # Include container metadata
  add_docker_metadata: true
  
  # Parse common log formats
  parsers:
    - type: json
      target: ''
    - type: multiline
      pattern: '^[0-9]{4}-[0-9]{2}-[0-9]{2}'
      negate: true
      match: after

# Data Stream Configuration
data_streams:
  - type: metrics
    dataset: docker.container
  - type: metrics
    dataset: docker.cpu
  - type: metrics
    dataset: docker.memory
  - type: metrics
    dataset: docker.network
  - type: metrics
    dataset: docker.diskio
  - type: logs
    dataset: docker.container_logs
